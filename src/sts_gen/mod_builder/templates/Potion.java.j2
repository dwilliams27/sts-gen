package {{ package_path }}.potions;

import com.megacrit.cardcrawl.actions.AbstractGameAction;
import com.megacrit.cardcrawl.actions.common.*;
import com.megacrit.cardcrawl.cards.DamageInfo;
import com.megacrit.cardcrawl.core.AbstractCreature;
import com.megacrit.cardcrawl.core.CardCrawlGame;
import com.megacrit.cardcrawl.characters.AbstractPlayer;
import com.megacrit.cardcrawl.dungeons.AbstractDungeon;
import com.megacrit.cardcrawl.helpers.PowerTip;
import com.megacrit.cardcrawl.localization.PotionStrings;
import com.megacrit.cardcrawl.monsters.AbstractMonster;
import com.megacrit.cardcrawl.potions.AbstractPotion;
import com.megacrit.cardcrawl.powers.*;
{% for imp in extra_imports | default([]) %}
import {{ imp }};
{% endfor %}

import {{ package_path }}.characters.{{ character_class_name }}Enums;

public class {{ class_name }} extends AbstractPotion {
    public static final String POTION_ID = "{{ sts_id }}";
    private static final PotionStrings potionStrings = CardCrawlGame.languagePack.getPotionString(POTION_ID);
    public static final String NAME = potionStrings.NAME;
    public static final String[] DESCRIPTIONS = potionStrings.DESCRIPTIONS;

    public {{ class_name }}() {
        super(NAME, POTION_ID, PotionRarity.{{ rarity }}, PotionSize.{{ size }}, PotionColor.{{ color | default("FIRE") }});
{% if is_targeted %}
        this.isThrown = true;
        this.targetRequired = true;
{% endif %}
    }

    @Override
    public void use(AbstractCreature target) {
{% if is_targeted %}
        AbstractMonster targetMonster = (AbstractMonster) target;
{% endif %}
        AbstractPlayer p = AbstractDungeon.player;
{{ action_body }}
    }

    @Override
    public int getPotency(int ascensionLevel) {
        return {{ potency | default(0) }};
    }

    @Override
    public AbstractPotion makeCopy() {
        return new {{ class_name }}();
    }
}
